
<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro" rel="stylesheet">
	<title></title>
<div class="header">
<div class="header-wrapper">
<div class="logos">
	<div class="homelogo-div" ><%= image_tag('/images/homelogo.png',:class =>"homelogo")  %></div>
	<div class="download-div" ><%= image_tag('/images/download.png',:class =>"download")  %></div>
</div>
<div class="search-bar">
	<input type="text" class="top-search" placeholder="Search" value="">
</div>

<div class="links">
	<div class="users"><h3><%= link_to 'Users',home_alluser_path,class: "users" %></h3></div>
	<div class="profile"><h3><%= link_to 'Profile',profile_index_path(current_user.username),class: "profile" %></h3></div>
	<div class="newpost"><h3><%= link_to 'NewPost', new_post_path,class: "newpost"%></h3></div>
	<div class="notifications" id="myBtn"><h3><%= link_to 'Notifications', home_notification_path , class: "profile", remote: true%></h3></div>
	<div class="logout"><h3><%= link_to 'Logout', destroy_user_session_path, method: :delete,class: "logout" %></h3></div>
</div>
<div id="myModal" class="modal">

  <!-- Modal content -->
  <div class="modal-content noty-wrapper">
 
   <%= render 'notification' %>
    
  </div>

</div>
</div>
</div>



<% name=request.original_url.split('.').last%>
<%user=User.where(username:name).first%>
<div class="user-info">
	<div class="user-profile-pic">
	<%= image_tag(current_user.avatar.url(:medium),:class =>"profile-pic") %>
	</div>
	<div class="user-data-wrapper">
	<div class="user-name-follow">
		<div class="user-name"><h2><%=user.username%></h2></div>
		<div class="user-follow">
			
			<%= link_to image_tag("#{current_user.follow_button user.id}"), url_for(controller: :home, action: :follow, celeb_id: user.id), method: :post ,remote: true , id: "follow_#{user.id}"%>
			
		</div>
		</div>

		<div class="user-follow-post-stats">
			<div class="user-followers"><h3><%= 
			Followmapping.where(celeb_id: user.id).length%> followers</h3></div>
			<div class="user-followees"><h3>
			<%= Followmapping.where(follower_id: user.id).length%> following</h3></div>
			<div class="user-posts"><h3><%=user.posts.length%> posts</h3></div>
		</div>
		<div class="user-fullname-status">
			<div class="user-fullname"><h3><%=user.fullname%></h3></div>
			<div class="user-status"><p>follow me on all media platforms to not miss any updates</p></div>
		</div>
	</div>
</div>



<% posts = Post.where(user_id: user.id)%>
<%posts.order! 'created_at DESC'%>
<div class="user-own-posts">
 <% posts.each do |post| %>


 <div class="sample">
 
        <%= link_to (image_tag post.image.url(:thumb)),profile_index_path(post.user.username),class:"my-button",  id:post.id %>
 </div>

    <div id="element_to_pop_up_<%=post.id%>" class="element_pop">
    		<a class="b-close">x</a>

 				<div class="post-wrapper">
 			
 			<div class="post-image popup-image">
 				<%=image_tag post.image.url(:medium)%>
 			</div>

 	<div class="post-data">
 		<div class="post-pic-name">
 			<div class="user-pic">
				<%= image_tag(current_user.avatar.url(:medium),:class =>"post-user-profile-pic") %>
			</div>

			<div class="user-name"><h3><%= link_to post.user.username ,profile_index_path(post.user.username),class: "user-name" %></h3>
			</div>
		</div>

		<div class="comment-wrapper">
					<div class="comment-user"><h3><%= post.user.username %></h3></div>
     				<div class="comment-content"><p><%= post.content %></p></div>
		</div>

<%=render 'like',post:post%>
<br>
<%=render 'comment',post:post%>

	</div>
				</div>
	</div>
    
<%end%>
</div>


<script type="text/javascript">
	;(function($) {
        $(function() {
            $('.my-button').bind('click', function(e) {
                e.preventDefault();
                console.log(this.id);
                $('#element_to_pop_up_' + this.id).bPopup();

            });

        });

    })(jQuery);

ar modal = document.getElementById('myModal');

// Get the button that opens the modal
var btn = document.getElementById("myBtn");

// Get the <span> element that closes the modal
var span = document.getElementsByClassName("close")[0];

// When the user clicks the button, open the modal 
btn.onclick = function() {
    modal.style.display = "block";
}

// When the user clicks on <span> (x), close the modal
span.onclick = function() {
    modal.style.display = "none";
}

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}

</script>